(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{206:function(e,t,a){e.exports=a.p+"assets/img/cookielog.3b7682cb.png"},207:function(e,t,a){e.exports=a.p+"assets/img/cookie-log-module.dcaec0b7.jpg"},208:function(e,t,a){e.exports=a.p+"assets/img/cookie-settings.cf780075.jpg"},216:function(e,t,a){"use strict";a.r(t);var s=a(28),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[e._v("#")]),e._v(" Usage")]),e._v(" "),s("p",[e._v("This package offers PHP and JavaScript functions to safely deal with all your cookies.")]),e._v(" "),s("h2",{attrs:{id:"set-up-your-cookies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-up-your-cookies"}},[e._v("#")]),e._v(" Set up your cookies")]),e._v(" "),s("p",[e._v("This package uses a Settings.yaml to determine which cookies can be added and how to deal with them.")]),e._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("Wysiwyg")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("CookieHandling")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cleanUp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("dryrun")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("false")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("showCookieDetails")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("consentCookieName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'cookieConsent'")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# cookie that stores the settings by a user")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cookieGroups")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("technical")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("                      "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# key for a specific cookie group ")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("label")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Technical'")]),e._v("            "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# to display group name in the cookie layer")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("readOnly")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true                ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# boolean to determine if a group cannot be disabled by the user")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("defaultValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true            ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# boolean to set the default for the cookie group ")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cookies")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("                      "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# list of all cookies ")]),e._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cookie_a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("                   "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# key for a specific cookie")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cookieName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'COOKIE_XYZ'")]),e._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# used to save the cookie")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("lifetime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'2 years'")]),e._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# lifetime of the cookie")]),e._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cookie_b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("                   \n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cookieName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'COOKIE_ZXY'")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("lifetime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'2 years'")]),e._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cookie_consent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cookieName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'cookieConsent'")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("lifetime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'3 months'")]),e._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cookie_accepted")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cookieName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'cookieConsentAccepted'")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("lifetime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'3 months'")]),e._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("Both "),s("code",[e._v("readOnly")]),e._v(" and "),s("code",[e._v("defaultValue")]),e._v(" are settings for the frontend display in the cookie layer.")]),e._v(" "),s("p",[e._v("The lifetime of a cookie can only be specified in "),s("b",[e._v('"month(s)"')]),e._v(" or "),s("b",[e._v('"year(s)"')]),e._v(".")]),e._v(" "),s("p",[e._v("The cookies "),s("code",[e._v("cookieConsent")]),e._v(" and "),s("code",[e._v("cookieConsentAccepted")]),e._v(" are configured by this package; 'cookieConsent' stores a users cookie preferences as JSON, 'cookieConsentAccepted' stores a hash indicating whether a user has accepted the cookie notice yet / the cookie layer should be shown.")])]),e._v(" "),s("h2",{attrs:{id:"code-changes-php"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#code-changes-php"}},[e._v("#")]),e._v(" Code changes PHP")]),e._v(" "),s("p",[s("b",[e._v("All HTTP components you use, that set cookies need to be updated.  ")]),s("br"),e._v("\nYou should inject the CookieConsentService")]),e._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("/**\n * @Flow\\Inject\n * @var Wysiwyg\\CookieHandling\\Domain\\Service\\CookieConsentService\n */")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("protected")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$cookieConsentService")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),s("p",[e._v("This service gives you the opportunity to use the function "),s("code",[e._v("tryAddCookie()")]),e._v(" that checks if a cookie has been accepted and adds it to the cookie jar.")]),e._v(" "),s("p",[e._v("This function should replace "),s("strong",[e._v("ALL")]),e._v(" calls to "),s("code",[e._v("$response->setCookie()")]),e._v(" or "),s("code",[e._v("$response->withAddedHeader('Set-Cookie', $cookie)")]),e._v("."),s("br"),e._v("\nInstead you will now call "),s("code",[e._v("$this->tryAddCookie($yourCookie)")])]),e._v(" "),s("p",[s("b",[e._v("Before:")])]),e._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$response")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("setCookie")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$cookieToAdd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" \n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("OR")]),e._v("\n \n"),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$response")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("withAddedHeader")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[e._v("'Set-Cookie'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$cookie")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),s("p",[s("b",[e._v("After:")])]),e._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$this")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("tryAddCookie")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$cookieToAdd")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),s("h2",{attrs:{id:"code-changes-javascript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#code-changes-javascript"}},[e._v("#")]),e._v(" Code changes JavaScript")]),e._v(" "),s("p",[s("b",[e._v("Before:")])]),e._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[e._v("$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("cookie")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("cookieName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" cookieValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" expire"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),s("p",[e._v("JavaScript offers different ways to add cookies, which means your implementation before might look different than this example.")]),e._v(" "),s("p",[s("b",[e._v("After:")])]),e._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[e._v("WY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("CookieHandling"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("tryAddCookie")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("cookieName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" cookieValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" expire"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),s("h2",{attrs:{id:"dealing-with-unaccepted-cookies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dealing-with-unaccepted-cookies"}},[e._v("#")]),e._v(" Dealing with unaccepted cookies")]),e._v(" "),s("p",[e._v("Cookies of your domain that have not been accepted by the user through interacting with the cookie layer will be automatically deleted by the "),s("code",[e._v("CookieCleanupComponent")]),e._v(". This ensures that old cookies from your domain will not remain after a user changes their cookie preferences.")]),e._v(" "),s("p",[e._v("All deleted cookies will be logged to give you the opportunity to track non-configured cookies.")]),e._v(" "),s("p",[e._v("This automatic deletion of cookies can be disabled by flagging the CookieCleanupComponent to use a dry run mode.\nTo enable this add the following to the configuration:")]),e._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("Wysiwyg")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("CookieHandling")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cleanUp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("dryrun")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n")])])]),s("h3",{attrs:{id:"cookielog-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookielog-module"}},[e._v("#")]),e._v(" CookieLog module")]),e._v(" "),s("p",[e._v("You can easily access the cookie log module via the Neos backend.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(206),alt:"Backend view of log Module",title:"Backend-Module"}}),e._v(" "),s("i",[e._v("[click to enlarge]")]),e._v(" "),s("br"),e._v(" "),s("br"),e._v("\nYou can see two cookies in this log."),s("br"),e._v("\nThe first one has a 'Configured' info badge. This is a configured cookie to which a user did not consent."),s("br"),e._v("\nThe other one has an 'UNKNOWN' warning badge which indicates that there is no configuration for a cookie by this name.\n"),s("br"),e._v(" "),s("br"),e._v(" "),s("img",{attrs:{src:a(207),alt:"List of logged cookie in module",title:"Backend-Module"}}),e._v(" "),s("i",[e._v("[click to enlarge]")]),e._v(" "),s("br")]),e._v(" "),s("h2",{attrs:{id:"detection-of-outdated-cookie-settings"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#detection-of-outdated-cookie-settings"}},[e._v("#")]),e._v(" Detection of outdated cookie settings")]),e._v(" "),s("p",[e._v("GDPR requires a new consent for cookies whenever the usage of cookies changes (lifetime changes, new cookies, etc.).")]),e._v(" "),s("p",[e._v("This requirement is covered in this package with "),s("code",[e._v("cookieConsentVersion")]),e._v(", an extra cookie that includes a hash of the current cookie settings you have configured.\nWhenever the cookie settings change a new hash is generated and if the generated hash is different to the saved version in the cookie,\nthe cookie layer will pop up again to force the user to give consent to the new cookie usage.\nThe new hash is then saved to the cookie.")]),e._v(" "),s("h2",{attrs:{id:"reducing-the-lifetime-of-old-cookies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reducing-the-lifetime-of-old-cookies"}},[e._v("#")]),e._v(" Reducing the lifetime of old cookies")]),e._v(" "),s("p",[e._v("Sometimes the need arises to reduce the lifetime of a cookie that users already have saved on their device. In this case\nthe package offers the possibility to add a setting to the affected cookie and reduce the lifetime in the following way.")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Add "),s("code",[e._v("previousCookieSettingHash")]),e._v(" with a random number to the cookie's settings like this:")]),e._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cookie_a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("                   \n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("cookieName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'COOKIE_XYZ'")]),e._v("  \n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("lifetime")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'2 years'")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("previousCookieSettingHash")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'123'")]),e._v("\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Run the command "),s("code",[e._v("./flow cookiehash:forcookie COOKIE_XYZ")]),e._v(" and get the following output:")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("+------------+------------------------------------------+\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" CookieName "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" COOKIE_XYZ                               "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" Hash       "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" 9f087fb91e6e8a9e92460b48abee09f7fc4ab1a7 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n+------------+------------------------------------------+\n")])])]),s("p",[e._v("or run "),s("code",[e._v("./flow cookiehash:cookiehashinformation COOKIE_XYZ")]),e._v(" to see the current hash and more information")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v(" +------------+------------------------------------------+\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" CookieName "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" COOKIE_XYZ                               "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" Hash       "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("123")]),e._v("                                      "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" BuildHash  "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" 9f087fb91e6e8a9e92460b48abee09f7fc4ab1a7 "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" Outdated?  "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" YES                                      "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v("\n +------------+------------------------------------------+\n")])])])]),e._v(" "),s("li",[s("p",[e._v("Replace the random number in "),s("code",[e._v("previousCookieSettingHash")]),e._v(" with the newly generated hash")])]),e._v(" "),s("li",[s("p",[e._v("Reduce the lifetime in the settings of the cookie")])])]),e._v(" "),s("p",[e._v("On the next load of the website the cookie layer will pop up again because the configuration has changed and,\nafter saving the cookie settings, the cookies with a lowered lifetime will be updated.")]),e._v(" "),s("h2",{attrs:{id:"pages-without-cookie-layer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pages-without-cookie-layer"}},[e._v("#")]),e._v(" Pages without cookie layer")]),e._v(" "),s("p",[e._v("According to GDPR some specific pages are not allowed to be blocked by a cookie layer, for example the data privacy page.\nIn order to comply with the law this package offers a mixin for your documents to block the layer.\nSimply add the mixin "),s("code",[e._v("Wysiwyg.CookieHandling:Mixins.CookieSettings")]),e._v(" to your document types.")]),e._v(" "),s("p",[s("b",[e._v("Example:")])]),e._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("'My.Site:ContentPage'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("superTypes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("'Wysiwyg.CookieHandling:Mixins.CookieSettings'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n")])])]),s("p",[e._v("In the inspector of these pages you now have the possibility to switch off the cookie layer.")]),e._v(" "),s("p",[s("img",{attrs:{src:a(208),alt:"Backend view of inspector setting",title:"Backend-Module"}}),e._v(" "),s("i",[e._v("[click to enlarge]")])])])}),[],!1,null,null,null);t.default=o.exports}}]);